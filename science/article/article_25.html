<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Применение методики статического анализа для выявления ошибок в программах на динамических языках программирования - Синяева Элеонора Витальевна</title>
    <link rel="stylesheet" href="../../css/master_style.css">
    <link rel="stylesheet" href="../../css/article.css">
    <link rel="stylesheet" href="../../css/diss.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@1.39.0/tsparticles.min.js"></script>
</head>

<body>

    <div id="tsparticles" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;"></div>

    <!-- Верхний блок -->
    <div class="top-block">
        <div class="article-back-box">
            <a href="../../science/index.html" class="article-back-link">← Назад к научным трудам</a>
        </div>
        <div class="university-links">
            <a href="http://donntu.ru" target="_blank">ДонНТУ</a>
            <a href="http://masters.donntu.ru" target="_blank" title="Перейти на портал магистров ДонНТУ">Портал
                магистров</a>
        </div>
    </div>

    <!-- Основное содержимое -->
    <div class="container">
        <div class="article-container">
            <div class="article-content">
                <div class="udk">УДК 004.043</div>

                <div class="article-header">
                    <div class="article-title">
                        ПРИМЕНЕНИЕ МЕТОДИКИ СТАТИЧЕСКОГО АНАЛИЗА ДЛЯ ВЫЯВЛЕНИЯ ОШИБОК В ПРОГРАММАХ НА ДИНАМИЧЕСКИХ ЯЗЫКАХ ПРОГРАММИРОВАНИЯ
                    </div>

                    <div class="authors">
                        Попова В.А.<sup>1</sup>
                    </div>

                    <div class="university">
                        ФГБОУ ВО «Иркутский государственный университет» (г. Иркутск)
                    </div>

                    <div class="contact">
                        <sup>1</sup> e-mail: victorypopova1@gmail.com
                    </div>

                    <div class="abstract">
                        <p><strong>Попова В.А. Применение методики статического анализа для выявления ошибок в программах на динамических языках программирования.</strong> Современные среды разработки содержат инструменты, которые позволяют без запуска программ выявлять ошибки и недостатки в исходных текстах на языках программирования, а также выполнять рефакторинг программного кода различной степени сложности. Одной из важных проблем, которая существенно влияет на качество разрабатывающихся программных систем, является возникновение ошибок несоответствия типов. Для языков программирования с динамической типизацией ошибки такого рода могут быть выявлены только во время выполнения программного кода. В данной работе описываются полученные результаты применения статического анализа к языку программирования с динамической типизацией «1С: Предприятие».</p>
                        <p class="keywords"><strong>Ключевые слова:</strong> качество программных систем, статический анализ кода, динамическая типизация, система типов, абстрактное синтаксическое дерево</p>
                    </div>

                    <div class="section">
                        <div class="section-title">Введение</div>
                        <p>Для всех языков программирования существуют правила <a href="#ref1" class="ref-link">[1]</a>, которые требуется соблюдать при написании программного кода, чтобы разрабатывающаяся система была работоспособной, обладала необходимой функциональностью и соответствовала стандартам качества. Так, правила, ставящие в соответствие конструкциям программы типы данных, образуют логическую систему, которая называется системой типов <a href="#ref2" class="ref-link">[2]</a>.</p>
                        <p>Языки программирования по характеристике типизации делятся на типизированные и бестиповые (нетипизированные). Нетипизированными называются языки программирования, в которых доступно производить любые операции над данными, которые рассматриваются только в качестве последовательности бит различной длины <a href="#ref3" class="ref-link">[3]</a>. К группе нетипизированных языков относятся как низкоуровневый язык ассемблер, так и высокоуровневые, например, BCPL, Forth.</p>
                        <p>В типизированных языках программирования для каждой операции определяется набор типов, к которому она может быть применима. Типизированные языки программирования по характеристике проверки соответствия типов конструкциям подразделяются на статические и динамические.</p>
                        <p>В программах, написанных на языках со статической типизацией, для устранения ошибок несоответствия типов требуется меньше затрат, поскольку ошибки выявляются в процессе разработки или тестирования, а не при использовании программы пользователями. В динамически типизированных языках программирования типы конструкций не вычисляются при компиляции, поскольку могут быть определены только в процессе выполнения программного кода.</p>
                        <p>В программах, написанных на языках программирования с динамической типизацией, существует риск выполнить недопустимое преобразование типов, из-за чего программа может аварийно завершать свою работу или не выполнять до конца ту или иную операцию, если разработчиком не была предусмотрена обработка критической ситуации. Ввиду подобных проблем пользователям становится труднее использовать программное обеспечение и требуется ожидать исправления ошибок разработчиками, на что может потребоваться достаточно большое количество времени.</p>
                        <p>Для отслеживания ошибок, возникающих в результате динамической проверки типов, следует использовать механизмы, которые позволяют анализировать код программы без её запуска. На сегодняшний день для подобных задач используется методика статического анализа программного кода.</p>
                    </div>

                    <div class="section">
                        <div class="section-title">Методика статического анализа</div>
                        <p>Для некоторых языков программирования с динамической типизацией существуют механизмы, которые позволяют выполнять статический анализ по исходному коду программ. Например, разработан алгоритм Хиндли-Милнера <a href="#ref4" class="ref-link">[4]</a>, который позволяет провести преобразования на уровне синтаксиса для автоматического определения типов выражений, использующихся в программе. На системе типов Хиндли-Милнера основаны такие языки, как Standard ML, OCaml, Haskell.</p>
                        <p>Для языка программирования JavaScript компанией Google был создан механизм статической проверки типов на языке программирования Java в рамках проекта Closure Compiler.</p>
                        <p>Также существует набор технологий компилятора LLVM (Low Level Virtual Machine), которые позволяют проверять соответствия типов в поддерживаемых проектом LLVM языках программирования как со статической типизацией (C, C++), так и с динамической (Julia, PHP, Python и т.д.).</p>
                        <p>Существующие статические анализаторы программного кода осуществляют проверку корректности использования конструкций языка, исследуя абстрактное синтаксическое дерево, а также определяют вызовы методов, чтобы смоделировать поведение объектов в определённой точке выполнения программного кода <a href="#ref5" class="ref-link">[5]</a>.</p>
                        <p>Абстрактное синтаксическое дерево (Abstract Syntax Tree – AST) – это представление программного кода, которое отражает связи между элементами выражений <a href="#ref6" class="ref-link">[6]</a>. В AST вершинами являются операторы выражений, а листьями – аргументы (операнды).</p>
                        <p>Для того чтобы построить AST, необходимо выполнить лексический и синтаксический анализ программы <a href="#ref7" class="ref-link">[7]</a>. Целью лексического анализа является выявление в программном коде лексем, к которым относятся ключевые слова, знаки операций, некоторые фиксированные значения (литералы) и т.д. После определения лексем выполняется синтаксический анализ, суть которого заключается в сопоставлении лексем в соответствие грамматике, определённой для использующегося языка программирования. На основании результатов синтаксического анализа можно выполнить построение AST.</p>
                    </div>

                    <div class="section">
                        <div class="section-title">Механизм статического анализа для языка программирования «1С: Предприятие»</div>
                        <p>К настоящему моменту для встроенного языка программирования в платформу «1С: Предприятие» не существует механизмов статического анализа, позволяющих выявлять ошибки несоответствия типов, которые могут возникать в разрабатывающихся конфигурациях. В связи с этим возникла идея создания механизма статической проверки типов для программ, разработанных на платформе «1С: Предприятие».</p>
                        <p>Помимо применения правил вычисления типов по исходному тексту программы, при разработке механизма статической проверки необходимо использовать информацию о типах языка, встроенного в платформу «1С: Предприятие». Результаты работы по анализу системы типов и процессу извлечения информации о типах конфигураций «1С: Предприятия» описаны в <a href="#ref8" class="ref-link">[8]</a> и <a href="#ref9" class="ref-link">[9]</a> соответственно.</p>
                        <p>В рамках работы по разработке механизма статического анализа был создан формат для описания объектов конфигурации и типов платформы «1С: Предприятие». Такой формат был назван «Дерево типов конфигурации» (ДТК). Название обусловлено тем, что каждый объект конфигурации наследует функциональность одного или нескольких типов, определённых в платформе «1С: Предприятие».</p>
                        <p>Файл формата ДТК состоит из:</p>
                        <ul>
                            <li>типов платформы («ветки дерева») – служат основанием для объектов конфигурации;</li>
                            <li>объектов конфигурации («листья дерева») – наследуют функциональность типов платформы.</li>
                        </ul>
                        <p>Для того чтобы разработать средство статической проверки типов, требовалось получить представление программного кода конфигурации в формате AST, а уже далее выполнять анализ соответствия типов конструкциям языка, применяя информацию из документа формата ДТК.</p>
                        <p>Программный комплекс, который применяет методы статического анализа типов к свойствам языка программирования «1С: Предприятие», разрабатывается на языке программирования C++. К настоящему моменту реализовано следующее:</p>
                        <ol>
                            <li>выполнение лексического и синтаксического анализа программного кода конфигураций «1С: Предприятия»;</li>
                            <li>преобразование структуры методов в представление AST;</li>
                            <li>выполнение процедуры статического анализа с применением информации о типах из документа формата ДТК.</li>
                        </ol>
                        
                        <div class="figure">
                            <img src="../../img/Статья25_Рисунок1.png" alt="Рисунок 1 – Процесс работы программы для статического анализа">
                            <div class="figure-caption">Рисунок 1 – Процесс работы программы для статического анализа</div>
                        </div>

                        <p>Процесс статической проверки типов начинается из точек входа, которыми являются методы, определяющие такие события приложения, как, например, ПриНачалеРаботыСистемы() и ПриЗавершенииРаботыСистемы().</p>
                        <p>В процессе тестирования программного комплекса были выявлены следующие ошибки:</p>
                        <ul>
                            <li>некорректной передачи параметров в метод;</li>
                            <li>обращения к отсутствующему свойству объекта;</li>
                            <li>попытке выполнить перебор, предполагая, что переменная имеет тип коллекции значений.</li>
                        </ul>
                        <p>Например, если в метод платформы СтрЭаменить(...), который содержит 3 параметра типа Строка, передать параметры другого типа, то будет сформировано сообщение об ошибке с указанием, какие параметры передаются некорректно. Информация об ошибках несоответствия типов записывается в файл. Для каждой ошибки указывается, в каком модуле и в какой строке она находится.</p>
                        <p>Затем осуществлялась доработка формата ДТК для того, чтобы при выполнении статического анализа также иметь возможность анализировать не только методы, но и события, которые инициируются пользователем при взаимодействии с формами, располагающимися в пользовательском интерфейсе. Таким образом, из документации требовалось извлечь данные о событиях пользовательского интерфейса и, соответственно, дополнить файл формата ДТК.</p>
                        <p>Извлечённая информация о событиях позволила определить новые точки входа в программу: если ранее такими точками были события приложения, то теперь являются и реализованные события для элементов и команд, которые расположены в пользовательских формах. Это обусловлено тем, что выполнение программного кода осуществляется не только при запуске режима «1С: Предприятия». Некоторые фрагменты кода выполняются при работе пользователя с элементами и командами в случае, если для них переопределена функциональность событий встроенного языка.</p>
                        <p>На текущий момент ведётся работа над поиском ошибок в использовании элементов пользовательского интерфейса. Например, элементы могут быть вложены в группы, свойства которых можно настраивать в программном коде.</p>
                    </div>

                    <div class="section">
                        <div class="section-title">Выводы</div>
                        <p>В результате работы был усовершенствован на основании предыдущих наработок авторов механизм статического анализа для поиска ошибок несоответствия типов в программах, написанных на языке программирования «1С: Предприятие».</p>
                        <p>Разработанный программный комплекс может стать полезным инструментом в процессе создания конфигураций на платформе «1С: Предприятие», поскольку его функциональность позволяет находить значительное количество ошибок в программах ещё на этапе разработки.</p>
                    </div>

                    <div class="references" id="references">
                        <div class="section-title">Литература</div>
                        <div class="reference-list">
                            <div class="reference-item" id="ref1">1. Новиков К. Д., Раскатова М. В. Оптимизация программного обеспечения // Вестник Российского нового университета. Серия: Сложные системы: модели, анализ и управление. – 2021. – № 1. – С. 159-165.</div>
                            <div class="reference-item" id="ref2">2. Benjamin C. Pierce. Types and Programming Languages. – Cambridge, Massachusetts London, England: The MIT Press, 2002. – 646 p.</div>
                            <div class="reference-item" id="ref3">3. Typing discipline: Untyped. – URL: http://progopedia.com/typing/untyped/ (online, accessed 28.03.2022).</div>
                            <div class="reference-item" id="ref4">4. Milner R. A theory of type polymorphism in programming // Journal of Computer and System Sciences. – 1978. – Vol. 17. – P. 348-375.</div>
                            <div class="reference-item" id="ref5">5. Ермаков М.К., Вартанов С.П. Применение статической бинарной инструментации с целью проведения динамического анализа программ для платформы ARM // Труды Института системного программирования РАН. – 2015. – № 1. – С. 5-24.</div>
                            <div class="reference-item" id="ref6">6. Jones J. Abstract Syntax Tree Implementation Idioms // Pattern Languages of Program Design. – 2003. – URL: https://www.bibsonomy.org/bibtex/2a86095c92a9801ab24d2196d334abe46/gwpl (online, accessed 28.03.2022).</div>
                            <div class="reference-item" id="ref7">7. Кузнецов М.А., Хорольский А.В. Теоретические аспекты разработки компилятора для учебных целей // Современные проблемы науки и образования. – 2013. – № 3. – С. 52-59.</div>
                            <div class="reference-item" id="ref8">8. Балюк А.С., Попова В.А. Разработка программного комплекса для конвертации конфигурации платформы «1С: Предприятие» в UML-модель // Сложные системы модели, анализ и управление. – 2021. – № 4. – С. 137-145.</div>
                            <div class="reference-item" id="ref9">9. Balyuk A.S., Popova V.A. Static type-checking for programs developed on the platform 1C: Enterprise // CEUR Workshop Proceedings: Irkutsk, 14 September 2021. – Irkutsk, 2021. – P. 101-111.</div>
                        </div>
                    </div>

                    

                </div>
            </div>
        </div>
    </div>

    <!-- Нижнее меню -->
    <footer class="footer-menu">
        <a class="footer-item" href="../../index.html">Резюме</a>
        <a class="footer-item" href="../../diss/index.html">Реферат</a>
        <a class="footer-item" href="../../science/index.html">Научные труды</a>
        <a class="footer-item" href="../../ind/index.html">Индивидуальный раздел</a>
    </footer>

    <script src="../../js/particles-config.js"></script>
    <script src="../../js/main.js"></script>
    <script src="../../js/script.js"></script>

</body>

</html>